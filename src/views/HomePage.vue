<script setup>
import {useRouter} from "vue-router";
import {ref} from "vue";

const router = useRouter();

const rowsCount = ref(9);
const colsCount = ref(9);
const bombsCount = ref(10);

function updateRoute() {
    const rows = rowsCount.value;
    const cols = colsCount.value;
    const bombs = bombsCount.value;
    const params = Object.assign({
      rows,
      cols,
      bombs,
    });
    router.push({
      name: 'game',
      params,
    });
}
</script>

<template>
  <div>
    <div class="container py-3">
      <h1>The minesweeper</h1>
    </div>
    <div class="bg-light">
      <div class="container py-3">
        <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
        <div class="row">
          <div class="col-12 col-md-4 py-3">
            <RouterLink href="#" class="btn btn-lg btn-block btn-success" :to="{
              name: 'game',
              params: {
                rows: 9,
                cols: 9,
                bombs: 10,
              }}">
              üòâ
              –õ–µ–≥–∫–∏–π
            </RouterLink>
            <p class="pt-3">–ü—Ä–æ—Å—Ç–∞—è –∏–≥—Ä–∞ —Å –ø–æ–ª–µ–º 9—Ö9</p>
          </div>
          <div class="col-12 col-md-4 py-3">
            <RouterLink href="#" class="btn btn-lg btn-block btn-warning" :to="{
              name: 'game',
              params: {
                rows: 16,
                cols: 16,
                bombs: 40,
              }}">
              ü§®
              –°—Ä–µ–¥–Ω–∏–π
            </RouterLink>
            <p class="pt-3">–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å —Å –ø–æ–ª–µ–º 16—Ö16</p>
          </div>
          <div class="col-12 col-md-4 py-3">
            <RouterLink href="#" class="btn btn-lg btn-block btn-danger" :to="{
              name: 'game',
              params: {
                rows: 16,
                cols: 30,
                bombs: 99,
              }}">
              ü§Ø
              –≠–∫—Å–ø–µ—Ä—Ç
            </RouterLink>
            <p class="pt-3">–ë—Ä–æ—Å—å –≤—ã–∑–æ–≤ 99 –º–∏–Ω–∞–º –Ω–∞ –ø–æ–ª–µ 16x99</p>
          </div>
        </div>
      </div>
    </div>

    <form class="bg-primary py-3 text-light" @submit="updateRoute">
      <div class="container">
        <h3>–õ–∏–±–æ —É–∫–∞–∂–∏—Ç–µ —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
        <div class="row">
          <div class="form-group col-12 col-md-4">
            <label for="input-rows"> –ö–æ–ª-–≤–æ —Å—Ç—Ä–æ–∫</label>
            <input type="number" v-model="rowsCount" class="form-control"
                   min="1" max="50" id="input-rows">
          </div>
          <div class="form-group col-12 col-md-4">
            <label for="input-cols">–ö–æ–ª-–≤–æ –∫–æ–ª–æ–Ω–æ–∫</label>
            <input type="number" v-model="colsCount" class="form-control"
                   min="1" max="50" id="input-cols">
          </div>
          <div class="form-group col-12 col-md-4">
            <label for="input-bombs">–ö–æ–ª-–≤–æ –º–∏–Ω</label>
            <input type="number" v-model="bombsCount" class="form-control"
                   min="1" max="99" id="input-bombs">
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <button type="submit" class="btn btn-secondary">
              &#127922;
              Play
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</template>
